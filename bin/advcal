#!/usr/bin/env perl
use strict;
use warnings;

use lib 'lib';

use Calendar::Advent;
use Calendar::Advent::Article;
use Getopt::Long::Descriptive;

my ($opt, $usage) = describe_options(
  '%c %o',
  [ 'articles|a=s', 'the root of articles',      { default => './articles' } ],
  [ 'share=s',      'the root of shared files',  { default => './share'    } ],
  [ 'output|o=s',   'output directory',          { default => './out'      } ],
  [ 'today=s',      'the day we treat as "today"; default to today'          ],
);

my $cal = Calendar::Advent->new({
  article_dir => $opt->{articles},
  share_dir   => $opt->{share},
  output_dir  => $opt->{output},
  today       => $opt->{today}
});

$cal->build;

