#!/usr/bin/env perl
use strict;
use warnings;

use lib 'lib';

use Calendar::Advent;
use Calendar::Advent::Article;
use Getopt::Long::Descriptive;

my ($opt, $usage) = describe_options(
  '%c %o',
  [ 'root',       'the root of articles',        { default => './root'  } ],
  [ 'share=s',    'directory of shared content', { default => './share' } ],
  [ 'output|o=s', 'output directory',            { default => './out'   } ],
  [ 'today=s',    'the day we treat as "today"; default to today'         ],
);

my $cal = Calendar::Advent->new({
  root       => $opt->{root},
  share      => $opt->{share},
  output_dir => $opt->{output},
});

$cal->build;

