<h2>December <% $year %></h2>
<table class="calendar">
<tr>
    <th>Sunday</th>
    <th>Monday</th>
    <th>Tuesday</th>
    <th>Wednesday</th>
    <th>Thursday</th>
    <th>Friday</th>
    <th>Saturday</th>
</tr>

% for my $week (@calendar) {
<tr>
%   for my $day (@$week) {
%     $day = $month{ $day } if $day;
%     my %class;
%     my $article;
%     $article = $articles{ $day->ymd } if $day;
%     $class{today}   = 1 if $day and $day->ymd eq $today->ymd;
%     $class{future}  = 1 if $day and $day > $today;
%     $class{advent}  = 1 if $day and $day < $month{25};
%     $class{missing} = 1 if ! $article;
%     my $class = join q{ }, keys %class;
%     if ($day) {
    <td id="dec-<% sprintf('%02u', $day->day) %>" class="day <% $class %>">
%       if ($article) {
      <a title="<% $article->title |h %> (<% $article->package |h %>)" href="<% $article->date->ymd %>.html"><% $article->date->day %></a>
%       } else {
      <% $day->day %>
%       }
%     } else {
    <td>&nbsp;
%     }
    </td>
%   }
</tr>
% }
</table>

<%args>
%articles
@calendar
$today
$year
%month
</%args>
