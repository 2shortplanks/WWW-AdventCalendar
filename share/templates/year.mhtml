<h2><% $month{1}->month_name %> <% $month{1}->year %></h2>
<table class="calendar">
<tr>
  <th>Sunday</th>
  <th>Monday</th>
  <th>Tuesday</th>
  <th>Wednesday</th>
  <th>Thursday</th>
  <th>Friday</th>
  <th>Saturday</th>
</tr>

% for my $week (@calendar) {
<tr>
%   for my $day (map {; $_ ? $month{ $_ } : undef } @$week) {
%     my %class;
%     my $article = $day ? $articles{ $day->ymd } : undef;
%     if ($day) {
%       $class{today}  = $day->ymd eq $today->ymd;
%       $class{future} = $day > $today;
%       $class{advent} = $day < $month{25};
%     }
%     $class{missing} = ! $class{future} && ! $article;
%     my $class = join q{ }, grep { $class{$_} } keys %class;
%     if ($day) {
    <td id="dec-<% sprintf('%02u', $day->day) %>" class="day <% $class %>">
%       if ($article) {
      <a title="<% $article->title |h %> (<% $article->package |h %>)" href="<% $article->date->ymd %>.html"><% $article->date->day %></a>
%       } else {
      <% $day->day %>
%       }
%     } else {
    <td>&nbsp;
%     }
    </td>
%   }
</tr>
% }
</table>

<%args>
%articles
@calendar
$today
$year
%month
</%args>
